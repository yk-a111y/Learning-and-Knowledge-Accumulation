---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠==


# Text Elements
effect(fn) ^QvdWRz9D

创建ReactiveEffect对象 ^Ju6XDCbd

执行RE对象的run函数，将this赋值给activeEffect ^YBefBEt5

targetMap ^mjox8vMH

taget: depsMap ^qzaG2xXv

obj 1: depsMap 1 ^ccPuasgt

obj 2: depsMap 2 ^vxOMeodR

.... .... ^wOrSwhae

depsMap ^BPpTqKgH

key: dep ^DolJxcMc

name: [RE1, RE2, ...] ^ptTVdKci

age: [RE1, RE2, ...] ^1KpZO6n2

在run函数的过程中，会触发响应式对象的getter，getter中的track(target, key)
函数会按照如下结构将当前的RE对象存储在dep中，完成依赖收集 ^6kSjIV7P

%%
# Drawing
```json
{
	"type": "excalidraw",
	"version": 2,
	"source": "https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.0.10",
	"elements": [
		{
			"type": "text",
			"version": 170,
			"versionNonce": 156159963,
			"isDeleted": false,
			"id": "QvdWRz9D",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -709.121449131778,
			"y": -352.86050167041805,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 193.46311950683594,
			"height": 49.98271587182157,
			"seed": 428969269,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "ORZ6YBSLKx8Zg8P3kMi15",
					"type": "arrow"
				},
				{
					"id": "Y4flhw0DQXuFsUMwC76jP",
					"type": "arrow"
				}
			],
			"updated": 1700198717953,
			"link": null,
			"locked": false,
			"fontSize": 39.986172697457256,
			"fontFamily": 1,
			"text": "effect(fn)",
			"rawText": "effect(fn)",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "effect(fn)",
			"lineHeight": 1.25,
			"baseline": 35
		},
		{
			"type": "arrow",
			"version": 774,
			"versionNonce": 932690139,
			"isDeleted": false,
			"id": "ORZ6YBSLKx8Zg8P3kMi15",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -507.53858181722774,
			"y": -350.01943129123003,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 85.53440418123245,
			"height": 59.23547278423962,
			"seed": 1567392789,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1700198749384,
			"link": null,
			"locked": false,
			"startBinding": {
				"elementId": "QvdWRz9D",
				"focus": 0.5502094484604798,
				"gap": 8.11974780771439
			},
			"endBinding": {
				"elementId": "Ju6XDCbd",
				"focus": 0.9592250331810425,
				"gap": 9.60177474887928
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					85.53440418123245,
					-59.23547278423962
				]
			]
		},
		{
			"type": "text",
			"version": 361,
			"versionNonce": 308126619,
			"isDeleted": false,
			"id": "Ju6XDCbd",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -412.40240288711595,
			"y": -423.419497541448,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 460.0897216796875,
			"height": 49.98271587182157,
			"seed": 709348085,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "ORZ6YBSLKx8Zg8P3kMi15",
					"type": "arrow"
				}
			],
			"updated": 1700198749384,
			"link": null,
			"locked": false,
			"fontSize": 39.986172697457256,
			"fontFamily": 1,
			"text": "创建ReactiveEffect对象",
			"rawText": "创建ReactiveEffect对象",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "创建ReactiveEffect对象",
			"lineHeight": 1.25,
			"baseline": 35
		},
		{
			"type": "arrow",
			"version": 1083,
			"versionNonce": 471076423,
			"isDeleted": false,
			"id": "2agOL3Ub0n6Afhi2WVT_s",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -499.14921302757307,
			"y": -312.1855254698559,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 72.91398879915891,
			"height": 4.515981950909236,
			"seed": 1109126107,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1700199353237,
			"link": null,
			"locked": false,
			"startBinding": null,
			"endBinding": {
				"elementId": "YBefBEt5",
				"focus": 0.536319057703659,
				"gap": 10.133821245044317
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					72.91398879915891,
					-4.515981950909236
				]
			]
		},
		{
			"type": "text",
			"version": 706,
			"versionNonce": 202509095,
			"isDeleted": false,
			"id": "YBefBEt5",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -416.1014029833698,
			"y": -342.8933397188721,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 946.636962890625,
			"height": 51.63561903599272,
			"seed": 1560787067,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "2agOL3Ub0n6Afhi2WVT_s",
					"type": "arrow"
				}
			],
			"updated": 1700199353236,
			"link": null,
			"locked": false,
			"fontSize": 41.30849522879417,
			"fontFamily": 1,
			"text": "执行RE对象的run函数，将this赋值给activeEffect",
			"rawText": "执行RE对象的run函数，将this赋值给activeEffect",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "执行RE对象的run函数，将this赋值给activeEffect",
			"lineHeight": 1.25,
			"baseline": 36
		},
		{
			"type": "rectangle",
			"version": 454,
			"versionNonce": 2009505307,
			"isDeleted": false,
			"id": "qM5-pQZXBLost-o8nlTBO",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -520.6292873317233,
			"y": -55.66361557463415,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 577.7773437499999,
			"height": 375.12109375,
			"seed": 2053981979,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 160,
			"versionNonce": 1730290363,
			"isDeleted": false,
			"id": "mjox8vMH",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -704.3568557361524,
			"y": -43.52513714007546,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 161.95904541015625,
			"height": 38.932371770630766,
			"seed": 424028411,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 31.145897416504614,
			"fontFamily": 1,
			"text": "targetMap",
			"rawText": "targetMap",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "targetMap",
			"lineHeight": 1.25,
			"baseline": 27
		},
		{
			"type": "text",
			"version": 132,
			"versionNonce": 66012790,
			"isDeleted": false,
			"id": "qzaG2xXv",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -481.8043489771534,
			"y": -19.054176466018816,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 261.6829833984375,
			"height": 42.68339493964685,
			"seed": 206455733,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1707583026038,
			"link": null,
			"locked": false,
			"fontSize": 34.14671595171748,
			"fontFamily": 1,
			"text": "taget: depsMap",
			"rawText": "taget: depsMap",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "taget: depsMap",
			"lineHeight": 1.25,
			"baseline": 30
		},
		{
			"type": "text",
			"version": 226,
			"versionNonce": 73330683,
			"isDeleted": false,
			"id": "ccPuasgt",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -475.4295781548402,
			"y": 60.90159831102312,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 264.6531677246094,
			"height": 42.68339493964685,
			"seed": 1726860539,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 34.14671595171748,
			"fontFamily": 1,
			"text": "obj 1: depsMap 1",
			"rawText": "obj 1: depsMap 1",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "obj 1: depsMap 1",
			"lineHeight": 1.25,
			"baseline": 30
		},
		{
			"type": "text",
			"version": 218,
			"versionNonce": 1150630043,
			"isDeleted": false,
			"id": "vxOMeodR",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -482.0782171052126,
			"y": 130.17446216887174,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 294.7646484375,
			"height": 42.68339493964685,
			"seed": 1316021333,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 34.14671595171748,
			"fontFamily": 1,
			"text": "obj 2: depsMap 2",
			"rawText": "obj 2: depsMap 2",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "obj 2: depsMap 2",
			"lineHeight": 1.25,
			"baseline": 30
		},
		{
			"type": "text",
			"version": 151,
			"versionNonce": 70872379,
			"isDeleted": false,
			"id": "wOrSwhae",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -482.5622296884211,
			"y": 184.7196610236888,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 169.86517333984375,
			"height": 78.87618608394736,
			"seed": 1063702805,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 63.10094886715789,
			"fontFamily": 1,
			"text": ".... ....",
			"rawText": ".... ....",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": ".... ....",
			"lineHeight": 1.25,
			"baseline": 56
		},
		{
			"type": "arrow",
			"version": 351,
			"versionNonce": 2050297413,
			"isDeleted": false,
			"id": "ilegI1u-eUlP-RhcMTXn9",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "dashed",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 95.21044910395756,
			"y": -19.45797231467965,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 267.2157457546624,
			"height": 90.03141823636545,
			"seed": 1251918075,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1700321895447,
			"link": null,
			"locked": false,
			"startBinding": {
				"elementId": "BPpTqKgH",
				"focus": 0.46881343215956384,
				"gap": 8.911160861842518
			},
			"endBinding": null,
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					-267.2157457546624,
					90.03141823636545
				]
			]
		},
		{
			"type": "text",
			"version": 249,
			"versionNonce": 1057331835,
			"isDeleted": false,
			"id": "BPpTqKgH",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "dashed",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 104.12160996580008,
			"y": -46.748238529748505,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 142.11825561523438,
			"height": 43.56458768411402,
			"seed": 616165525,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "ilegI1u-eUlP-RhcMTXn9",
					"type": "arrow"
				}
			],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 34.851670147291216,
			"fontFamily": 1,
			"text": "depsMap",
			"rawText": "depsMap",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "depsMap",
			"lineHeight": 1.25,
			"baseline": 31
		},
		{
			"type": "rectangle",
			"version": 480,
			"versionNonce": 135755707,
			"isDeleted": false,
			"id": "OkC7rkdV8djfia8_v9FiL",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 263.58539421041075,
			"y": -58.852195838596685,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 577.7773437499999,
			"height": 375.12109375,
			"seed": 450652789,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 192,
			"versionNonce": 527627946,
			"isDeleted": false,
			"id": "DolJxcMc",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 306.49799444917915,
			"y": -34.39820620210355,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 131.5755157470703,
			"height": 42.68339493964685,
			"seed": 1301320699,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1707583027924,
			"link": null,
			"locked": false,
			"fontSize": 34.14671595171748,
			"fontFamily": 1,
			"text": "key: dep",
			"rawText": "key: dep",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "key: dep",
			"lineHeight": 1.25,
			"baseline": 30
		},
		{
			"type": "text",
			"version": 331,
			"versionNonce": 1841497339,
			"isDeleted": false,
			"id": "ptTVdKci",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 301.0157802424959,
			"y": 40.9199574297254,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 343.7896728515625,
			"height": 42.68339493964685,
			"seed": 1415758229,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 34.14671595171748,
			"fontFamily": 1,
			"text": "name: [RE1, RE2, ...]",
			"rawText": "name: [RE1, RE2, ...]",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "name: [RE1, RE2, ...]",
			"lineHeight": 1.25,
			"baseline": 30
		},
		{
			"type": "text",
			"version": 410,
			"versionNonce": 1924050331,
			"isDeleted": false,
			"id": "1KpZO6n2",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 312.94570185342525,
			"y": 108.47806783888109,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 323.33978271484375,
			"height": 42.68339493964685,
			"seed": 177462901,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1700198758693,
			"link": null,
			"locked": false,
			"fontSize": 34.14671595171748,
			"fontFamily": 1,
			"text": "age: [RE1, RE2, ...]",
			"rawText": "age: [RE1, RE2, ...]",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "age: [RE1, RE2, ...]",
			"lineHeight": 1.25,
			"baseline": 30
		},
		{
			"type": "arrow",
			"version": 1590,
			"versionNonce": 892878395,
			"isDeleted": false,
			"id": "Y4flhw0DQXuFsUMwC76jP",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -509.8050247997436,
			"y": -291.19977022588,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 80.6500663557764,
			"height": 53.270410924501846,
			"seed": 739650837,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1700198780677,
			"link": null,
			"locked": false,
			"startBinding": {
				"elementId": "QvdWRz9D",
				"focus": -0.3497741320941214,
				"gap": 13.062818420742929
			},
			"endBinding": {
				"elementId": "6kSjIV7P",
				"focus": -0.8194366411652182,
				"gap": 6.155157644224914
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					80.6500663557764,
					53.270410924501846
				]
			]
		},
		{
			"type": "text",
			"version": 827,
			"versionNonce": 53346555,
			"isDeleted": false,
			"id": "6kSjIV7P",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -423.0324643454601,
			"y": -237.29608871228794,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 1467.8251953125,
			"height": 99.96543174364314,
			"seed": 1733935733,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "Y4flhw0DQXuFsUMwC76jP",
					"type": "arrow"
				}
			],
			"updated": 1700198780675,
			"link": null,
			"locked": false,
			"fontSize": 39.986172697457256,
			"fontFamily": 1,
			"text": "在run函数的过程中，会触发响应式对象的getter，getter中的track(target, key)\n函数会按照如下结构将当前的RE对象存储在dep中，完成依赖收集",
			"rawText": "在run函数的过程中，会触发响应式对象的getter，getter中的track(target, key)\n函数会按照如下结构将当前的RE对象存储在dep中，完成依赖收集",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "在run函数的过程中，会触发响应式对象的getter，getter中的track(target, key)\n函数会按照如下结构将当前的RE对象存储在dep中，完成依赖收集",
			"lineHeight": 1.25,
			"baseline": 85
		}
	],
	"appState": {
		"theme": "light",
		"viewBackgroundColor": "#ffffff",
		"currentItemStrokeColor": "#e03131",
		"currentItemBackgroundColor": "transparent",
		"currentItemFillStyle": "solid",
		"currentItemStrokeWidth": 2,
		"currentItemStrokeStyle": "dashed",
		"currentItemRoughness": 1,
		"currentItemOpacity": 100,
		"currentItemFontFamily": 1,
		"currentItemFontSize": 20,
		"currentItemTextAlign": "left",
		"currentItemStartArrowhead": null,
		"currentItemEndArrowhead": "arrow",
		"scrollX": 826.1643590823691,
		"scrollY": 814.5435096830411,
		"zoom": {
			"value": 0.5
		},
		"currentItemRoundness": "round",
		"gridSize": null,
		"gridColor": {
			"Bold": "#C9C9C9FF",
			"Regular": "#EDEDEDFF"
		},
		"currentStrokeOptions": null,
		"previousGridSize": null,
		"frameRendering": {
			"enabled": true,
			"clip": true,
			"name": true,
			"outline": true
		}
	},
	"files": {}
}
```
%%