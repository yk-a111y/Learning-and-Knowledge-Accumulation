## iframe方案
微前端中 iframe 方案需要一个主应用，包含导航和内容区的设计，通过切换导航来控制内容区微应用 A / B / C 的加载和卸载
![[Pasted image 20240722213539.png]]
iframe方案的特点：
- 站点隔离和浏览上下文隔离，可以使微应用在运行时天然隔离，适合集成三方应用；
- 移植性和复用性好，可以便捷地嵌在不同的主应用中

同样的，也会存在一些问题：
- 主应用刷新时， iframe 无法保持 URL 状态（会重新加载 `src` 对应的初始 URL）；
- 应用和 iframe 处于不同的浏览上下文，无法使 iframe 中的模态框相对于主应用居中；
- 主应用和 iframe 微应用的数据状态同步问题：持久化数据和通信(**即，主应用和微应用免登录的问题**)；

> 温馨提示：对于非后台管理系统而言，使用 iframe 还需要考虑 SEO、移动端兼容性、加载性能等问题

## NPM包方案
微应用 A / B / C 可以采用不同的技术栈，但是构建时需要像发布业务组件一样输出 ES5 & 模块化标准的 JavaScript 库，从而使主应用安装各自的依赖时，可以通过模块化的方式引入微应用。
![[Pasted image 20240725114322.png]]
